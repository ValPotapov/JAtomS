document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('[mod_jatoms_showcases="container"]').forEach(function(a){let loading=a.querySelector('[mod_jatoms_showcases="loading"]'),error=a.querySelector('[mod_jatoms_showcases="error"]'),items=a.querySelector('[mod_jatoms_showcases="items"]');loading.style.display="";error.style.display="none";items.style.display="none";error.innerText="";items.innerHTML="";let request=new XMLHttpRequest(),requestUrl=a.getAttribute("data-url"),formData=new FormData();formData.set("module_id",a.getAttribute("data-module_id"));formData.set("format","json");request.open("POST",requestUrl);request.send(new URLSearchParams(formData));request.onreadystatechange=function(){if(this.readyState===4){loading.style.display="none"}if(this.readyState===4&&this.status===200){let response=false;try{response=JSON.parse(this.response)}catch(b){response=false;error.innerText=request.status+" "+request.message;error.style.display="";items.style.display="none";return}if(response.success){items.innerHTML=response.data;items.style.display=""}else{error.innerText=response.message;error.style.display=""}}else{if(this.readyState===4&&this.status!==200){error.innerText=request.status+" "+request.message;error.style.display=""}}}})});